<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
    <title>Upload Gambar</title>
<style type="text/css">
  body{
    font-family:'Calibri';
  }
  input[type="file"] {
  	display: none;
  }

  .ingambarlabel {
  	border: 1px solid #ccc;
  	border-radius: 0 0 8px 8px;
  	display: inline-block;
  	padding: 6px 12px;
  	cursor: pointer;
  	width: 434px;
  	text-align: center;
  }

  #gambarpreview {
  	width: 460px;
  	height: 250px;
  	border-radius: 8px 8px 0 0;
  }
</style>
</head>

<body>
  <form action="" name="databarang">
      <div class="row">
          <div class="gambarpreview">
              <img src="data:image/png;base64,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" id="gambarpreview">
          </div>
          <label for="ingambar" class="ingambarlabel">Pilih gambar</label><br>
          <input type="file" name="gambarproduk" id="ingambar" class="inputgambar" required accept="image/*" onchange="namedefine();">
          <label for="ingambarsize" id="ukuranfile" style="text-align:center">Ukuran File:  0KB</label>
      </div>
      </form>
      <button type="button" id="simpanbutton" onclick="if(document.forms['databarang'].checkValidity()){document.forms['databarang'].submit()} else{alert('Terdapat data tidak valid\nMohon cek kembali isian anda')}">Simpan</button>

<script type="text/javascript">
    function namedefine() {
        event.preventDefault();
        var ingambar = document.getElementsByClassName('inputgambar');
        var inlabel = document.getElementsByClassName('ingambarlabel');
        var insize = document.getElementById('ukuranfile');
        if (ingambar[0].value.length) {
          if (!ingambar[0].files[0].name.match(/.(jpg|jpeg|png|gif)$/i)){
          alert('not an image!');
          }
          else{
            inlabel[0].innerHTML = ingambar[0].files[0].name;
            var oFReader = new FileReader();
            oFReader.readAsDataURL(ingambar[0].files[0]);
            oFReader.onload = function(oFREvent) {
                document.getElementById("gambarpreview").src = oFREvent.target.result;
                insize.innerHTML = 'Ukuran File: ' + Math.round((ingambar[0].files[0].size / 1024)) + 'KB';
            };
            console.log(ingambar[0].files[0]);
          }
        } else {
            console.log('cancelled');
        }
    }
</script>
</body>

</html>
